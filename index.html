<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NSAMUN 2025 - Registration</title>
  <link rel="icon" type="image/x-icon" href="NASA favicon.png" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #0c0c1e 0%, #1a1a3e 50%, #2d1b69 100%);
      min-height: 100vh;
      color: #fff;
      overflow-x: hidden;
    }

    /* Background Stars */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }
    .star:nth-child(1) { top: 20%; left: 25%; width: 2px; height: 2px; }
    .star:nth-child(2) { top: 80%; left: 90%; width: 1px; height: 1px; animation-delay: 1s; }
    .star:nth-child(3) { top: 30%; left: 70%; width: 3px; height: 3px; animation-delay: 2s; }
    .star:nth-child(4) { top: 70%; left: 40%; width: 2px; height: 2px; animation-delay: 0.5s; }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    /* Galaxy overlay */
    .galaxy-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(ellipse at 20% 50%, rgba(120,119,198,0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(255,119,198,0.2) 0%, transparent 50%),
        radial-gradient(ellipse at 40% 80%, rgba(120,200,255,0.2) 0%, transparent 50%);
      z-index: 2;
    }

    .container {
      position: relative;
      z-index: 10;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .header {
      text-align: center;
      margin-bottom: 40px;
    }
    .logo {
      width: 80px;
      height: 80px;
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
      border-radius: 50%;
      margin: 0 auto 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      color: white;
      animation: rotate 10s linear infinite;
    }
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    h1 {
      color: #fff;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }
    .subtitle {
      color: #a0a0ff;
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    .tagline {
      color: #888;
      font-size: 1rem;
      font-style: italic;
    }

    /* Layout */
    .content-wrapper {
      display: flex;
      gap: 40px;
      flex: 1;
    }

    /* Form Styling */
    .registration-form {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 40px;
      max-width: 520px;
      width: 100%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      color: #fff;
      margin-bottom: 8px;
      font-weight: 500;
      font-size: 15px;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.3);
      color: white;
      font-size: 16px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    input::placeholder,
    textarea::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #4ecdc4;
      box-shadow: 0 0 20px rgba(78, 205, 196, 0.3);
    }

    select {
      appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 14px;
      padding-right: 32px;
    }

    .submit-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #0c0c1e, #1a1a3e, #2d1b69);
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      background: linear-gradient(135deg, #0c0c1e, #11113c, #2e167b);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    /* Info Section */
    .info-section {
      flex: 1;
      color: white;
    }

    .info-title {
      font-size: 2rem;
      color: #4ecdc4;
      margin-bottom: 20px;
    }

    .sub-heading {
      color: #ff9ff3;
      font-size: 1.4rem;
      margin: 25px 0 15px;
      text-shadow: 0 0 10px rgba(255, 159, 243, 0.5);
    }

    .detail-box {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      color: #ddd;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .committee-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .committee-card {
      background: rgba(255, 255, 255, 0.07);
      border-left: 4px solid #4ecdc4;
      padding: 15px;
      border-radius: 10px;
      transition: 0.3s;
    }

    .committee-card:hover {
      transform: translateX(5px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .committee-card h4 {
      color: #4ecdc4;
      margin-bottom: 8px;
    }

    .highlight {
      color: #4ecdc4;
      font-weight: bold;
    }

    .styled-list {
      list-style: none;
      padding-left: 0;
    }

    .styled-list li {
      margin-bottom: 10px;
      padding-left: 20px;
      position: relative;
    }

    .styled-list li::before {
      content: "•";
      position: absolute;
      left: 0;
      color: #4ecdc4;
    }

    /* Portfolio Info */
    .portfolio-info {
      margin-top: 20px;
      padding: 15px;
      background: rgba(78, 205, 196, 0.1);
      border: 1px solid rgba(78, 205, 196, 0.3);
      border-radius: 10px;
      display: none;
    }

    .portfolio-info.visible {
      display: block;
    }

    .portfolio-info h4 {
      color: #4ecdc4;
      margin-bottom: 10px;
    }

    .portfolio-info p {
      margin-bottom: 8px;
      font-size: 14px;
    }

    .portfolio-info a {
      color: #4ecdc4;
      text-decoration: underline;
    }

    /* Double Delegation Section */
    .double-delegation {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 193, 7, 0.1);
      border: 1px solid rgba(255, 193, 7, 0.3);
      border-radius: 10px;
      display: none;
    }

    .double-delegation.visible {
      display: block;
    }

    .double-delegation h4 {
      color: #ffc107;
      margin-bottom: 10px;
    }

    .form-group-double {
      margin-bottom: 15px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .content-wrapper {
        flex-direction: column;
      }
      h1 {
        font-size: 2rem;
      }
      .registration-form {
        max-width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="stars">
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
    <div class="star"></div>
  </div>
  <div class="galaxy-bg"></div>

  <div class="container">
    <div class="header">
      <div class="logo">N</div>
      <h1>NSA Model United Nations 2025</h1>
      <p class="subtitle">Registration Form</p>
      <p class="tagline">Explore • Debate • Revolutionize</p>
    </div>

    <div class="content-wrapper">
      <!-- Registration Form -->
      <div class="registration-form">
        <form id="registrationForm">
          <div class="form-group">
            <label for="fullName">1. Name of Participant</label>
            <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required />
          </div>

          <div class="form-group">
            <label for="institute">2. School/College/Institute Name</label>
            <input type="text" id="institute" name="institute" placeholder="Enter institute name" required />
          </div>

          <div class="form-group">
            <label for="year">3. Year of Study / Standard</label>
            <input type="text" id="year" name="year" placeholder="e.g. 2nd Year BCA / Class 12" required />
          </div>

          <div class="form-group">
            <label for="email">4. Email</label>
            <input type="email" id="email" name="email" placeholder="your.email@example.com" required />
          </div>

          <div class="form-group">
            <label for="phone">5. Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="+91 98765XXXXX" required />
          </div>

          <div class="form-group">
            <label for="committee">6. Committee Preference</label>
            <select id="committee" name="committee" required>
              <option value="">Select Committee</option>
              <option value="lok">Lok Sabha Committee</option>
              <option value="g20">G20 Summit on Global Trade</option>
              <option value="uncsg">United Nations Committee on Space Governance (UNCSG)</option>
              <option value="icdie">International Council on Digital Influence & Ethics (ICDIE)</option>
              <option value="ipc">International Press Corps (IPC)</option>
              <option value="ipl">IPL Auction Committee</option>
              <option value="unwomen">UN-WOMEN</option>
              <option value="hpc">Harry Potter Committee</option>
            </select>
          </div>

          <!-- Double Delegation Section for IPL -->
          <div class="double-delegation" id="doubleDelegation">
            <h4>Double Delegation for IPL Committee</h4>
            <p>For the IPL Auction Committee, you can register as a team of two delegates representing the same franchise.</p>
            <p>Select your delegation type:</p>
  
            <div class="form-group">
              <label>
                <input type="radio" name="delegationType" value="double"> Double Delegation (Team of 2)
              </label>
            </div>
            
            <div id="partnerInfo" style="display: none; margin-top: 15px;">
              <div class="form-group-double">
                <label for="partnerName">Partner's Full Name</label>
                <input type="text" id="partnerName" name="partnerName" placeholder="Enter your partner's full name" />
              </div>
              <div class="form-group-double">
                <label for="partnerEmail">Partner's Email</label>
                <input type="email" id="partnerEmail" name="partnerEmail" placeholder="partner.email@example.com" />
              </div>
              <div class="form-group-double">
                <label for="partnerPhone">Partner's Phone Number</label>
                <input type="tel" id="partnerPhone" name="partnerPhone" placeholder="+91 XXXXXXXXXX" />
              </div>
            </div>
          </div>

          <!-- Portfolio Preferences -->
          <div class="portfolio-info" id="portfolioInfo">
            <h4>Portfolio Selection Guidelines</h4>
            <p>Please review the portfolio list for your selected committee:</p>
            <p><a href="#" id="portfolioLink" target="_blank">View Portfolio List</a></p>
            <p><strong>Instructions:</strong> Maximum 30 characters per portfolio, no abbreviations allowed.</p>
          </div>

          <div class="form-group">
            <label for="portfolio1">7. Portfolio Preference 1</label>
            <textarea id="portfolio1" name="portfolio1" rows="3" placeholder="Describe your first portfolio preference..." required></textarea>
          </div>

          <div class="form-group">
            <label for="portfolio2">8. Portfolio Preference 2</label>
            <textarea id="portfolio2" name="portfolio2" rows="3" placeholder="Describe your second portfolio preference..." required></textarea>
          </div>

          <div class="form-group">
            <label for="portfolio3">9. Portfolio Preference 3</label>
            <textarea id="portfolio3" name="portfolio3" rows="3" placeholder="Describe your third portfolio preference..." required></textarea>
          </div>

          <button type="submit" class="submit-btn">Register Now</button>
        </form>
      </div>

      <!-- Info Section -->
      <div class="info-section">
        <h2 class="info-title">About NSAMUN 2025</h2>
        <div class="detail-box">
          <p>📅 <strong>Dates:</strong> 4th & 5th October 2025</p>
          <p>📍 <strong>Venue:</strong> Coming soon</p>
          <p>🛡 <strong>Organized by:</strong> NASA SpaceApps Nagpur & The Youthopian Force</p>
        </div>

        <h3 class="sub-heading">Committees & Agendas</h3>
        <div class="committee-list">
          <div class="committee-card">
            <h4>Lok Sabha Committee</h4>
            <p><span class="highlight">Agenda:</span> Ensuring Electoral Integrity: Reviewing the Role & Accountability of ECI in Light of Vote Tampering Allegations.</p>
          </div>
          <div class="committee-card">
            <h4>G20 Summit on Global Trade</h4>
            <p><span class="highlight">Agenda:</span> Responding to the Tariff Crisis – Reassessing Global Economic Cooperation Post Trump-Era Trade War.</p>
          </div>
          <div class="committee-card">
            <h4>UNCSG: United Nations Committee on Space Governance</h4>
            <p><span class="highlight">Agenda:</span> Developing a Global Legal & Ethical Framework for Militarization, Commercialization & Colonization of Outer Space.</p>
          </div>
          <div class="committee-card">
            <h4>ICDIE: International Council on Digital Influence & Ethics</h4>
            <p><span class="highlight">Agenda:</span> Regulating Digital Influence – Ethics, Free Speech & the Power of Content Creators.</p>
          </div>
          <div class="committee-card">
            <h4>IPC: International Press Corps</h4>
            <p><span class="highlight">Overview:</span> For budding journalists – report, investigate, and present narratives from all committees.</p>
          </div>
          <div class="committee-card">
            <h4>IPL Auction Committee</h4>
            <p><span class="highlight">Overview:</span> Strategic team-building simulation where delegates act as franchise owners, making bidding decisions and managing squads.</p>
            <p><span class="highlight">Special Feature:</span> Double delegation option available - register as a team of two delegates representing the same franchise.</p>
          </div>
          <div class="committee-card">
            <h4>UN-WOMEN</h4>
            <p><span class="highlight">Agenda:</span> Advancing Women's Reproductive Autonomy and Ensuring Global Recognition of Reproductive Rights.</p>
          </div>
          <div class="committee-card">
            <h4>Harry Potter Committee</h4>
            <p><span class="highlight">Agenda:</span> The Ministry’s Response to the Resurgence of Voldemort: Balancing Security, Civil Rights, and Magical Justice.</p>
          </div>
        </div>

        <h3 class="sub-heading">Registration</h3>
        <div class="detail-box">
          <p><strong>Entry Fee:</strong> ₹1230 per delegate</p>
          <p><strong>Double Delegation:</strong> ₹2460 for IPL team of two delegates</p>
          <p><strong>Payment:</strong> Pay via the link after registration.</p>
        </div>

        <h3 class="sub-heading">Awards & Prizes</h3>
        <ul class="styled-list">
          <li>Cash Prize for Best Delegate (each committee)</li>
          <li>Exciting Goodies & Recognition</li>
          <li>NASA logo on your MUN resume – ultimate credential</li>
        </ul>

        <h3 class="sub-heading">Guidelines</h3>
        <ul class="styled-list">
          <li>No refund after registration</li>
          <li>Payment confirmation (screenshot) is mandatory</li>
          <li>Portfolio preferences required; allotments based on experience</li>
          <li>Cash prize applicable only for Best Delegate</li>
          <li>For IPL double delegation, both partners must register together with complete information</li>
        </ul>

        <h3 class="sub-heading">Contact</h3>
        <p><strong>Secretary-General:</strong><br> Anuprabha Bansod <br>📱 +91 9096085771</p>
        
      </div>
    </div>
  </div>

  <script>
    // Portfolio links for each committee
    const portfolioLinks = {
      'lok': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1546791906',
      'g20': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=84552788#gid=84552788',
      'uncsg': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1363620690#gid=1363620690',
      'icdie': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=844542721#gid=844542721',
      'ipc': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1546791906',
      'ipl': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1678691804#gid=1678691804',
      'wmaf': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1546791906',
      'unwomen': 'https://docs.google.com/spreadsheets/d/1aO8dK5cYWXm937Si2EHBSFZoaJ60QartKe1XAlIX6J0/edit?gid=1546791906'
    };

    // Show portfolio info and double delegation when committee is selected
    document.getElementById('committee').addEventListener('change', function(e) {
      const selectedCommittee = e.target.value;
      const portfolioInfo = document.getElementById('portfolioInfo');
      const portfolioLink = document.getElementById('portfolioLink');
      const doubleDelegation = document.getElementById('doubleDelegation');
      
      if (selectedCommittee) {
        portfolioLink.href = portfolioLinks[selectedCommittee];
        portfolioInfo.classList.add('visible');
        
        // Show double delegation only for IPL committee
        if (selectedCommittee === 'ipl') {
          doubleDelegation.classList.add('visible');
        } else {
          doubleDelegation.classList.remove('visible');
          document.getElementById('partnerInfo').style.display = 'none';
        }
      } else {
        portfolioInfo.classList.remove('visible');
        doubleDelegation.classList.remove('visible');
        document.getElementById('partnerInfo').style.display = 'none';
      }
    });

    // Toggle partner info when double delegation is selected
    document.querySelectorAll('input[name="delegationType"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const partnerInfo = document.getElementById('partnerInfo');
        if (this.value === 'double') {
          partnerInfo.style.display = 'block';
        } else {
          partnerInfo.style.display = 'none';
        }
      });
    });

    // Validate form submission
    document.getElementById('registrationForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const form = e.target;
      const submitBtn = form.querySelector('.submit-btn');
      const committee = document.getElementById('committee').value;

      // Validate Portfolio Text Length (Maximum 30 characters)
      const portfolio1 = document.getElementById('portfolio1').value.trim();
      const portfolio2 = document.getElementById('portfolio2').value.trim();
      const portfolio3 = document.getElementById('portfolio3').value.trim();
      const allTexts = [portfolio1, portfolio2, portfolio3];

      for (const text of allTexts) {
        if (text.length > 30) { 
          alert('Each portfolio preference must be a maximum of 30 characters long.');
          return; // Stop the submission
        }
      }

      // For IPL double delegation, validate partner information
      if (committee === 'ipl') {
        const delegationType = document.querySelector('input[name="delegationType"]:checked').value;
        if (delegationType === 'double') {
          const partnerName = document.getElementById('partnerName').value.trim();
          const partnerEmail = document.getElementById('partnerEmail').value.trim();
          const partnerPhone = document.getElementById('partnerPhone').value.trim();

          if (!partnerName || !partnerEmail || !partnerPhone) {
            alert('Please provide complete partner information for double delegation.');
            return;
          }
        }
      }

      // Disable Button and Prepare Data
      submitBtn.disabled = true;
      submitBtn.textContent = 'Processing...';
      
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      // Send to Backend
      try {
          const response = await fetch('/.netlify/functions/submit', {
              method: 'POST',
              body: JSON.stringify(data)
          });

          if (!response.ok) {
              throw new Error('There was an issue with the server.');
          }
          
          await response.json(); 
          
          // Redirect to Payment
          alert("Registration Successful!\nRedirecting to payment gateway...");
          window.location.href = "https://rzp.io/rzp/IK8oAJFr";

      } catch (error) {
          console.error('Submission failed:', error);
          alert(`Registration Failed: ${error.message}`); 
          submitBtn.disabled = false;
          submitBtn.textContent = 'Register Now';
      }
    });
  </script>
</body>
</html>
